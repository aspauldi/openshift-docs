// Module included in the following assemblies:
// * virt/creating_vms_advanced/creating_vms_advanced_web/virt-customizing-vms.adoc

:_mod-docs-content-type: PROCEDURE
[id="virt-customizing-vm-instancetype_{context}"]
= Customizing a VM you create from an instance type by using the web console

By using the {product-title} web console, you can customize a virtual machine (VM) as you create it.

For example:

* You can create a VM from a list of available bootable volumes and can add Linux- or Windows-based volumes to the list.

* You can add a statically managed SSH key or enable dynamic SSH key injection when you customize a virtual machine (VM) from an instance type. The statically managed SSH key is added to the VM as a cloud-init data source at first boot. This method does not affect cloud-init user data. If you enable dynamic SSH key injection, you can add or revoke the key at runtime.

[NOTE]
====
Only Red Hat Enterprise Linux (RHEL) 9 supports dynamic key injection.
====

The key is added to the VM by the QEMU guest agent, which is installed with RHEL 9.

You begin creating the VM by choosing between two views in the {product-title} web console:

* A virtualization-focused view, which presents a condensed navigation menu specific to the OpenShift Virtualization perspective

* A general view, which provides a full navigation menu for all of the various {product-title} web console options, including *Virtualization*

.Procedure

. From the {product-title} web console, choose your view:
** For a virtualization-focused view, select *Administrator* -> *Virtualization* -> *Catalog*.
+
** For a general view, navigate to *Virtualization* -> *Catalog*.
+
The *InstanceTypes* tab opens by default.

. Select a suitable bootable volume from the list. If the list is truncated, click *Show all* to display the entire list.
+
[NOTE]
====
The bootable volume table lists only those volumes in the `openshift-virtualization-os-images` namespace that have the `instancetype.kubevirt.io/default-preference` label.
====
+
** Optional: Click the star icon to designate each bootable volume you want to mark as a favorite. To see starred bootable volumes listed together either at the top or the bottom of the list, click the arrow to the left of *Volume name*. Logos of operating systems that are not available in the cluster are shown at the bottom of the list.
+
Immediately after you install the environment or when the environment is disconnected, the list of volumes to boot from is empty. In that case, three operating system logos are displayed: Windows, RHEL, and Linux. You can add a new volume that meets your requirements.
+
In addition, there is a link to the *Create a Windows boot source* quick start. The same link appears in a popover if you hover the pointer over the question mark icon next to *Select volume to boot from*.

. Click *Add volume* to upload a new volume or to use an existing persistent volume claim (PVC), a volume snapshot, or a containerDisk volume. Click *Save*.

. Click an instance type tile and select the resource size appropriate for your workload.

. To customize a dynamic SSH key, click the *Red Hat Enterprise Linux 9 VM* tile.

. Optional: Choose the virtual machine details, including the VM's name, that apply to the volume you are booting from:
** For a Linux-based volume, follow these steps to configure SSH:

.. If you have not already added a public SSH key to your project, click the edit icon beside *Authorized SSH key* in the *VirtualMachine details* section.
.. Select one of the following options:
+
--
* *Use existing*: Select a secret from the secrets list.
* *Add new*: Follow these steps:
... Browse to the public SSH key file or paste the file in the key field.
... Enter the secret name.
... Optional: Select *Automatically apply this key to any new VirtualMachine you create in this project*.
--
.. Click *Save*.

** For a Windows volume, follow either of these set of steps to configure sysprep options:
*** If you have not already added sysprep options for the Windows volume, follow these steps:
... Click the edit icon beside *Sysprep* in the *VirtualMachine details* section.
... Add the *Autoattend.xml* answer file.
... Add the *Unattend.xml* answer file.
... Click *Save*.
*** If you want to use existing sysprep options for the Windows volume, follow these steps:
... Click *Attach existing sysprep*.
... Enter the name of the existing sysprep *Unattend.xml* answer file.
... Click *Save*.
. Set *Dynamic SSH key injection* in the *VirtualMachine details* section to on.
. Optional: If you are creating a Windows VM, you can mount a Windows driver disk:
.. Click the *Customize VirtualMachine* button.
.. On the *VirtualMachine details* page, click *Storage*.
.. Select the *Mount Windows drivers disk* checkbox.
. Optional: Click *View YAML & CLI* to view the YAML file. Click *CLI* to view the CLI commands. You can also download or copy either the YAML file contents or the CLI commands.
. Click *Create VirtualMachine*.

After the VM is created, you can monitor the status on the *VirtualMachine details* page.

